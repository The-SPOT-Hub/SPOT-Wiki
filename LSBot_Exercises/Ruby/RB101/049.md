# RB101
## Problem 49: Rainbow Array Modification

I messed up my rainbow array. How can I replace `nil` with the proper next color, 'green'? Try to come up with three distinct ways to fix the rainbow.

```ruby
next_color = 'green'
rainbow = ['red', 'orange', 'yellow', nil]

# ???

p rainbow # => ['red', 'orange', 'yellow', 'green']
```

**Bonus Questions:**
1. What if we didn't know how long the array was? Which of your solutions would still work, if any?
2. Did any of your solutions *mutate* the array? Which ones?
3. Could you use `==` to check your `rainbow` against the expected result? Why or why not?

<details>
<summary>Solution:</summary>

**Three ways to fix it:**

**Method 1: Direct index assignment**
```ruby
rainbow[3] = next_color
# or
rainbow[-1] = next_color
```

**Method 2: Find index of nil and replace**
```ruby
rainbow[rainbow.index(nil)] = next_color
```

**Method 3: Delete nil and append**
```ruby
rainbow.delete(nil)
rainbow << next_color
# or
rainbow.push(next_color)
```

**Method 4: Map with conditional**
```ruby
rainbow = rainbow.map { |color| color.nil? ? next_color : color }
```

**Method 5: Compact and append**
```ruby
rainbow.compact!
rainbow << next_color
```

**Bonus Answers:**

**Bonus 1**: Methods 2, 3, 4, and 5 would work without knowing the array length. Method 1 with `rainbow[3]` requires knowing the index.

**Bonus 2**: Yes, most solutions mutate the array:
- **Mutating:** Methods 1, 2, 3, and 5 (using `!` or direct assignment)
- **Non-mutating:** Method 4 (creates new array unless you use `map!`)

```ruby
# Prove mutation with object_id
original_id = rainbow.object_id
rainbow[-1] = next_color
rainbow.object_id == original_id  # => true (same object)
```

**Bonus 3**: Yes, you can use `==` to check. The `==` operator compares array contents element by element:

```ruby
rainbow == ['red', 'orange', 'yellow', 'green']  # => true

# == checks values, not object identity
other_rainbow = ['red', 'orange', 'yellow', 'green']
rainbow == other_rainbow  # => true (same contents)
rainbow.equal?(other_rainbow)  # => false (different objects)
```

</details>

---

[Previous](048.md) | [Next](050.md)

