<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Ruby/RB101/108.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# RB101
## Problem 108: For Loop Variable Scope

What will be output by line 7? Why?

```ruby
arr = [1]

for i in arr do
  a = 'World'
end

puts a
```

**Bonus Questions:**
1. How does this problem change if we use `each` to iterate through `arr` instead of `for`?
2. What do you think are the benefits/drawbacks of using `each` instead of `for`?
3. How many scopes exist in this snippet?

<details>
<summary>Solution:</summary>

**Output:** `World`

**Why:**

`for` loops do not create a new inner scope. Variables initialized inside a `for` loop are accessible after the loop ends.

```ruby
arr = [1]

for i in arr do
  a = 'World'  # Creates variable in the same scope as arr
end

puts a  # => World (accessible!)
puts i  # => 1 (also accessible!)
```

**Bonus Answers:**

**Bonus 1**: If we use `each`:

```ruby
arr = [1]

arr.each do |i|
  a = 'World'
end

puts a  # NameError: undefined local variable or method `a'
```

With `each`, a block is created that has its own inner scope. The variable `a` is local to the block and not accessible outside of it.

**Bonus 2**: Benefits and drawbacks:

**Using `each` (with blocks):**

Benefits:
- Creates inner scope (less pollution of outer scope)
- Block parameters are clearly local
- More Ruby-idiomatic
- Works with any enumerable
- Can be chained with other methods

Drawbacks:
- Variables initialized in block aren't accessible outside
- Need to initialize outside if you want to use values later

**Using `for`:**

Benefits:
- Loop variables accessible after loop
- Simpler to access variables created in loop
- Familiar to developers from other languages

Drawbacks:
- Doesn't create inner scope (namespace pollution)
- Less idiomatic Ruby
- Can't be easily chained
- Limited compared to iterator methods

**Bonus 3**: One scope exists in this snippet - the main scope. The `for` loop does not create an inner scope.

```ruby
# All in the same scope:
arr = [1]      # Main scope
for i in arr   # Still main scope
  a = 'World'  # Still main scope
end
puts a         # Accessing main scope
```

**Ruby convention:** Prefer `each` and other iterator methods over `for` loops.

</details>

---

[Previous](107.md) | [Next](109.md)

