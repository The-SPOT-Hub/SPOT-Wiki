# RB101
## Problem 108: For Loop Variable Scope

What will be output by line 7? Why?

```ruby
arr = [1]

for i in arr do
  a = 'World'
end

puts a
```

**Bonus Questions:**
1. How does this problem change if we use `each` to iterate through `arr` instead of `for`?
2. What do you think are the benefits/drawbacks of using `each` instead of `for`?
3. How many scopes exist in this snippet?

<details>
<summary>Solution:</summary>

**Output:** `World`

**Why:**

`for` loops do not create a new inner scope. Variables initialized inside a `for` loop are accessible after the loop ends.

```ruby
arr = [1]

for i in arr do
  a = 'World'  # Creates variable in the same scope as arr
end

puts a  # => World (accessible!)
puts i  # => 1 (also accessible!)
```

**Bonus Answers:**

**Bonus 1**: If we use `each`:

```ruby
arr = [1]

arr.each do |i|
  a = 'World'
end

puts a  # NameError: undefined local variable or method `a'
```

With `each`, a block is created that has its own inner scope. The variable `a` is local to the block and not accessible outside of it.

**Bonus 2**: Benefits and drawbacks:

**Using `each` (with blocks):**

Benefits:
- Creates inner scope (less pollution of outer scope)
- Block parameters are clearly local
- More Ruby-idiomatic
- Works with any enumerable
- Can be chained with other methods

Drawbacks:
- Variables initialized in block aren't accessible outside
- Need to initialize outside if you want to use values later

**Using `for`:**

Benefits:
- Loop variables accessible after loop
- Simpler to access variables created in loop
- Familiar to developers from other languages

Drawbacks:
- Doesn't create inner scope (namespace pollution)
- Less idiomatic Ruby
- Can't be easily chained
- Limited compared to iterator methods

**Bonus 3**: One scope exists in this snippet - the main scope. The `for` loop does not create an inner scope.

```ruby
# All in the same scope:
arr = [1]      # Main scope
for i in arr   # Still main scope
  a = 'World'  # Still main scope
end
puts a         # Accessing main scope
```

**Ruby convention:** Prefer `each` and other iterator methods over `for` loops.

</details>

---

[Previous](107.md) | [Next](109.md)

