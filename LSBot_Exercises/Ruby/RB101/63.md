# RB101
## Problem 63: Method Parameters and Reassignment

What does line 9 output and why? Explain what happens within `a_method` to explain this.

```ruby
def a_method(string)
  string = 'hello'
  string << 'world'
end

string = 'hello'
a_method(string)
p string
```

**Bonus Questions:**
1. What is the caller, argument, and return value of `<<` in this code?
2. How many `string` variables exist in this snippet?
3. How many strings exist after this code has run?

<details>
<summary>Solution:</summary>

**Line 9 outputs:** `"hello"`

**Explanation:**

When `a_method(string)` is called, the parameter `string` initially points to the same string object as the outer `string` variable. However, on line 2, `string = 'hello'` reassigns the parameter to point to a **new** string object `'hello'`.

This reassignment doesn't affect the original string that the outer `string` variable points to. The `<< 'world'` on line 3 mutates the new string (making it `'helloworld'`), but this new string is never assigned to anything outside the method, and the method returns this value.

The original string remains `'hello'` because the reassignment inside the method only affected the local parameter variable.

**Step-by-step:**
1. Outer `string` points to `'hello'`
2. Method parameter `string` initially points to same `'hello'`
3. Line 2: parameter `string` reassigned to point to a new `'hello'` string
4. Line 3: this new string is mutated to `'helloworld'`
5. Outer `string` is unchanged, still points to original `'hello'`

**Bonus Answers:**

**Bonus 1**: For the `<<` method call on line 3:
- **Caller**: The new string `'hello'` (created on line 2)
- **Argument**: `'world'`
- **Return value**: `'helloworld'` (the mutated string)

```ruby
string = 'hello'
result = string << 'world'  # Returns the mutated string
p result  # => "helloworld"
```

**Bonus 2**: Two `string` variables exist:
1. One in the outer scope (line 6)
2. One as the method parameter (line 1)

These are separate variables that happen to have the same name.

**Bonus 3**: Three strings exist after the code has run:
1. `'hello'` - the original outer string (line 6)
2. `'hello'` - the new string created on line 2 (may be garbage collected)
3. `'helloworld'` - the result of mutation on line 3 (may be garbage collected)

Actually, strings 2 and 3 are the same string object (the one created on line 2 and then mutated), so effectively 2 strings exist:
1. Original `'hello'` (pointed to by outer `string`)
2. `'helloworld'` (the method's return value, not captured anywhere)

</details>

---

[Previous](62.md) | [Next](64.md)

