<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Ruby/RB101/076.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# RB101
## Problem 76: Bad Math Function

Explain the following code, and identify the output. Is this code running as expected?

```ruby
def bad_math(num)
  if num = 42
    puts 'It\'s 42'
  else
    puts 'It\'s not 42'
  end
end

bad_math(42)
```

**Bonus Questions:**
1. What happens if we pass a falsy value into `bad_math`?
2. What does an assignment evaluate to?
3. If this code runs without error, what does that mean about `num = 42`?

<details>
<summary>Solution:</summary>

**Output:** `It's 42`

However, the code is **not** running as expected.

**Explanation:**

The condition uses assignment (`num = 42`) instead of comparison (`num == 42`). This means:
1. The value `42` is assigned to `num`
2. The assignment expression evaluates to `42`
3. `42` is truthy, so the `if` branch always executes
4. This happens regardless of what argument was passed in!

**The bug:**
```ruby
bad_math(42)    # => "It's 42"
bad_math(0)     # => "It's 42"
bad_math(100)   # => "It's 42"
bad_math(nil)   # => "It's 42"
bad_math("hi")  # => "It's 42"
# Always prints "It's 42"!
```

**Correct version:**
```ruby
def good_math(num)
  if num == 42  # Comparison, not assignment
    puts 'It\'s 42'
  else
    puts 'It\'s not 42'
  end
end

good_math(42)   # => "It's 42"
good_math(100)  # => "It's not 42"
```

**Bonus Answers:**

**Bonus 1**: Even if we pass a falsy value (`nil` or `false`), the output is still `"It's 42"`:

```ruby
bad_math(nil)    # => "It's 42"
bad_math(false)  # => "It's 42"
```

This is because the assignment `num = 42` happens in the condition, which assigns `42` to `num` and evaluates to `42` (truthy).

**Bonus 2**: An assignment evaluates to the value being assigned:

```ruby
x = 10  # Evaluates to 10
y = "hello"  # Evaluates to "hello"

# Can be used in expressions:
z = (a = 5) + (b = 3)  # z = 8
p a  # => 5
p b  # => 3

# This is why if num = 42 is truthy
result = (num = 42)
p result  # => 42
```

**Bonus 3**: If `num = 42` runs without error, it means that:
1. Assignment is allowed in conditional expressions in Ruby
2. The assignment is a valid expression
3. It evaluates to the assigned value (`42`)
4. Ruby doesn't warn you about this common mistake!

**Ruby will warn in some contexts:**
```ruby
# Ruby warns if you use assignment in a condition in irb:
if x = 5
  puts "hi"
end
# (irb):1: warning: found `= literal' in conditional, should be ==
```

But it doesn't cause an error - it runs the code and just warns you.

</details>

---

[Previous](075.md) | [Next](077.md)

