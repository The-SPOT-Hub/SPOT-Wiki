# RB101
## Problem 76: Bad Math Function

Explain the following code, and identify the output. Is this code running as expected?

```ruby
def bad_math(num)
  if num = 42
    puts 'It\'s 42'
  else
    puts 'It\'s not 42'
  end
end

bad_math(42)
```

**Bonus Questions:**
1. What happens if we pass a falsy value into `bad_math`?
2. What does an assignment evaluate to?
3. If this code runs without error, what does that mean about `num = 42`?

<details>
<summary>Solution:</summary>

**Output:** `It's 42`

However, the code is **not** running as expected.

**Explanation:**

The condition uses assignment (`num = 42`) instead of comparison (`num == 42`). This means:
1. The value `42` is assigned to `num`
2. The assignment expression evaluates to `42`
3. `42` is truthy, so the `if` branch always executes
4. This happens regardless of what argument was passed in!

**The bug:**
```ruby
bad_math(42)    # => "It's 42"
bad_math(0)     # => "It's 42"
bad_math(100)   # => "It's 42"
bad_math(nil)   # => "It's 42"
bad_math("hi")  # => "It's 42"
# Always prints "It's 42"!
```

**Correct version:**
```ruby
def good_math(num)
  if num == 42  # Comparison, not assignment
    puts 'It\'s 42'
  else
    puts 'It\'s not 42'
  end
end

good_math(42)   # => "It's 42"
good_math(100)  # => "It's not 42"
```

**Bonus Answers:**

**Bonus 1**: Even if we pass a falsy value (`nil` or `false`), the output is still `"It's 42"`:

```ruby
bad_math(nil)    # => "It's 42"
bad_math(false)  # => "It's 42"
```

This is because the assignment `num = 42` happens in the condition, which assigns `42` to `num` and evaluates to `42` (truthy).

**Bonus 2**: An assignment evaluates to the value being assigned:

```ruby
x = 10  # Evaluates to 10
y = "hello"  # Evaluates to "hello"

# Can be used in expressions:
z = (a = 5) + (b = 3)  # z = 8
p a  # => 5
p b  # => 3

# This is why if num = 42 is truthy
result = (num = 42)
p result  # => 42
```

**Bonus 3**: If `num = 42` runs without error, it means that:
1. Assignment is allowed in conditional expressions in Ruby
2. The assignment is a valid expression
3. It evaluates to the assigned value (`42`)
4. Ruby doesn't warn you about this common mistake!

**Ruby will warn in some contexts:**
```ruby
# Ruby warns if you use assignment in a condition in irb:
if x = 5
  puts "hi"
end
# (irb):1: warning: found `= literal' in conditional, should be ==
```

But it doesn't cause an error - it runs the code and just warns you.

</details>

---

[Previous](075.md) | [Next](077.md)

