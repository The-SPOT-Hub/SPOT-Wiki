<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Ruby/RB101/110.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# RB101
## Problem 110: Method Parameters and Immutability

Your friend shows you this code and asks why they aren't getting the expected output. Explain what we get instead and why.

```ruby
def square_number(number)
  number = number * number
end

number = 4
square_number(number)
p number  # Expected: 16
```

**Bonus Questions:**
1. Precisely what options do we have for fixing this code to get the expected output?
2. Do we gain any more options if we change the data type of `number`? For example, what if we initialize `number` to `[4]`?
3. Why doesn't reassigning `number` within `square_number` change its value?

<details>
<summary>Solution:</summary>

**What we get:** `4` (not 16)

**Why:**

Integers are immutable in Ruby. When we do `number = number * number` inside the method:
1. It creates a new integer (16)
2. It reassigns the local parameter `number` to point to this new integer
3. This reassignment only affects the local variable in the method
4. The outer `number` variable is unchanged

The method doesn't (and can't) modify the outer `number` variable because:
- Methods can't access outer local variables
- The parameter `number` is a different variable from the outer `number`
- Reassignment only changes what the local variable points to

**Bonus Answers:**

**Bonus 1**: Options for fixing the code:

**Option 1: Use the return value**
```ruby
def square_number(number)
  number * number
end

number = 4
number = square_number(number)  # Reassign with return value
p number  # => 16
```

**Option 2: Use a global variable (not recommended)**
```ruby
def square_number
  $number = $number * $number
end

$number = 4
square_number
p $number  # => 16
```

**Option 3: Use an instance variable (in a class context)**
```ruby
class Calculator
  def initialize(number)
    @number = number
  end
  
  def square_number
    @number = @number * @number
  end
  
  def number
    @number
  end
end

calc = Calculator.new(4)
calc.square_number
p calc.number  # => 16
```

**Bonus 2**: Yes! If we use a mutable data structure:

```ruby
def square_number(number_arr)
  number_arr[0] = number_arr[0] * number_arr[0]
end

number = [4]  # Use an array
square_number(number)
p number  # => [16] (the array was mutated!)
```

This works because:
- Arrays are mutable
- We're not reassigning the array parameter, we're mutating the array itself
- The mutation affects the original object

**Bonus 3**: Why reassignment doesn't change the outer value:

The parameter `number` and the outer `number` are **two different variables** that initially point to the same object:

```ruby
number = 4  # Outer variable

def square_number(number)  # Parameter is a new variable
  puts number.object_id  # Same object ID initially
  number = number * number  # Creates new integer, reassigns parameter
  puts number.object_id  # Different object ID now
end

puts number.object_id  # Original object ID
square_number(number)
puts number.object_id  # Still original (unchanged)
```

The reassignment `number = number * number` only changes what the **local** `number` parameter points to. It doesn't affect the outer `number` variable at all.

**Visualization:**
```
Before method call:
  outer 'number' → 4
  
During method call:
  outer 'number' → 4
  parameter 'number' → 4 (same object)
  
After 'number = number * number':
  outer 'number' → 4 (unchanged)
  parameter 'number' → 16 (new object)
  
After method returns:
  outer 'number' → 4 (unchanged)
```

</details>

---

[Previous](109.md)

