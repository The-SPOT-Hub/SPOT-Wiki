<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Javascript/LS215/10.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# LS215
## Problem 10: Find Closest Opponent

Write a function that takes an object of opponents and their positions on a board, and a player's own position. The function should return the position of the closest "active" opponent.

**Rules:**
- Active opponents have a numeric position. Inactive opponents have a position of `null`.
- If two opponents are the same distance away, return the opponent with the higher position on the board.
- If there are no active opponents, return `null`.

## Examples:

```javascript
// Closest is Opponent 1 (distance 9), but Opponent 2 is also distance 9.
// The tie-breaker rule means we return the higher position, 19.
console.log(findClosestOpponent({
  "Opponent 1" : 1,
  "Opponent 2" : 19,
  "Opponent 3" : 37
}, 10)); // 19

// Opponent 1a is distance 2, Opponent 1b is also distance 2.
// Return the higher position, 5.
console.log(findClosestOpponent({
  "Opponent 1a" : 1,
  "Opponent 1b" : 5
}, 3)); // 5

// Inactive opponents (null) should be ignored.
console.log(findClosestOpponent({
  "Opponent 1a" : null, "Opponent 1b" : 5, "Opponent 1c" : null,
  "Opponent 1d" : 100, "Opponent 1e" : null
}, 50)); // 5

// No active opponents.
console.log(findClosestOpponent({
  "Opponent 1" : null, "Opponent 2" : null
}, 10)); // null
```

<details>
<summary>Solution:</summary>

```javascript
function findClosestOpponent(opponents, position) {
  let activePositions = Object.values(opponents).filter(pos => pos !== null);

  if (activePositions.length === 0) {
    return null;
  }

  return activePositions.reduce((closest, current) => {
    let closestDist = Math.abs(position - closest);
    let currentDist = Math.abs(position - current);

    if (currentDist < closestDist) {
      return current;
    } else if (currentDist === closestDist) {
      return Math.max(closest, current);
    } else {
      return closest;
    }
  });
}
```

</details>

---

[Previous](09.md)