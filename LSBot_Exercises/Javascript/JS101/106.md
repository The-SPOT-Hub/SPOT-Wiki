# JS101
## Problem 106: Nested Block Scope

What is output by the indicated lines and why? Write your answer before running the code. What concept is being demonstrated?

```js
let greeting = 'Hello';
  
while (true) {
  greeting = 'Howdy';
  let farewell = 'Goodbye';
  while (true) {
    greeting = 'Hi there';
    farewell = 'Bye-bye';
    let question = "what time is it?";
    
    console.log(greeting); // what will be output by this line?
    console.log(farewell); // what will be output by this line?
    console.log(question); // what will be output by this line?
    break;
  }
  break;
}
  
console.log(greeting); // what will be output by this line?
console.log(farewell); // what will be output by this line?
console.log(question); // what will be output by this line?
```

### Bonus Questions
1. How many scopes exist in this snippet?
2. Identify which lines are initialization and which are reassignment.
3. Fix any errors without getting rid of the nested loops.

<details>
<summary>Solution:</summary>

**Output:**
```
Hi there
Bye-bye
what time is it?
Hi there
ReferenceError: farewell is not defined
```

**Concept:** This demonstrates **variable scope** (block scope and variable access).

**Explanation:**

Inside the inner loop (lines 11-13), `greeting` outputs `'Hi there'` because it's been reassigned and is accessible, `farewell` outputs `'Bye-bye'` because it can be accessed from the outer loop scope, and `question` outputs `'what time is it?'` because it's local to this block. On line 19, outside the loops, `greeting` outputs `'Hi there'` because it's accessible in the outer scope and was reassigned. However, on lines 20-21, both `farewell` and `question` are block-scoped to their respective loop blocks and are not accessible in the outer scope, so attempting to access them throws a `ReferenceError`.

**Bonus Questions:**

1. Three scopes exist:
   - Global scope (contains `greeting`)
   - Outer `while` loop scope (contains `farewell`)
   - Inner `while` loop scope (contains `question`)

2. **Initialization (declarations with `let`):**
   - Line 1: `let greeting = 'Hello';`
   - Line 5: `let farewell = 'Goodbye';`
   - Line 9: `let question = "what time is it?";`

   **Reassignment (no `let`):**
   - Line 4: `greeting = 'Howdy';`
   - Line 7: `greeting = 'Hi there';`
   - Line 8: `farewell = 'Bye-bye';`

3. Fix the errors by declaring variables in accessible scope:

```js
let greeting = 'Hello';
let farewell;    // Declare in outer scope
let question;    // Declare in outer scope
  
while (true) {
  greeting = 'Howdy';
  farewell = 'Goodbye';
  while (true) {
    greeting = 'Hi there';
    farewell = 'Bye-bye';
    question = "what time is it?";
    
    console.log(greeting); // Hi there
    console.log(farewell); // Bye-bye
    console.log(question); // what time is it?
    break;
  }
  break;
}
  
console.log(greeting); // Hi there
console.log(farewell); // Bye-bye
console.log(question); // what time is it?
```

</details>

---

[Previous](105.md) | [Next](107.md)

