# JS101
## Problem 45: Truthy vs Correct Logic

Your friend shows you this code they've written to open up a chocolate bar shop. How can you demonstrate to them the logical flaw with this setup? Can you propose an alternative?

```js
let myCash = 10;

if (myCash) {
  console.log("One chocolate bar, please!");
} else {
  console.log("I don't have 3 dollars to spend. :(");
}
```

### Bonus Questions
1. Turn this into a function, `buyChocolateBar(cash)`.
2. Once you have a function, try to subtract the 3 dollars from the customer's cash. Do you run into any issues? Why?
3. Can you add an inventory that checks to make sure there are chocolate bars left before selling them?

<details>
<summary>Solution:</summary>

**The Flaw:**
`myCash` could be anything that's truthy and it would still buy them a chocolate bar. For example, it could be `-10`, `0.01`, or even non-numeric values. The code only checks if `myCash` is truthy, not if it's actually sufficient to buy a chocolate bar.

**Demonstration:**
```js
let myCash = -10;  // Negative money!
if (myCash) {
  console.log("One chocolate bar, please!");  // This still runs!
}
```

**Alternative:**
```js
let myCash = 10;

if (myCash >= 3) {
  console.log("One chocolate bar, please!");
} else {
  console.log("I don't have 3 dollars to spend. :(");
}
```

**Bonus Questions:**

1. Function version:
```js
function buyChocolateBar(cash) {
  if (cash >= 3) {
    console.log("One chocolate bar, please!");
    return true;
  } else {
    console.log("I don't have 3 dollars to spend. :(");
    return false;
  }
}
```

2. Issue with subtracting:
```js
function buyChocolateBar(cash) {
  if (cash >= 3) {
    cash -= 3;  // This only affects the local parameter
    console.log("One chocolate bar, please!");
    return cash;  // We can return the remaining cash
  } else {
    console.log("I don't have 3 dollars to spend. :(");
    return cash;
  }
}

let myCash = 10;
let remaining = buyChocolateBar(myCash);
console.log(myCash);      // Still 10 (unchanged)
console.log(remaining);   // 7 (returned value)
```
The issue is that numbers are primitive and passed by value, so modifying `cash` inside the function doesn't affect `myCash` outside.

3. With inventory:
```js
let inventory = 5;

function buyChocolateBar(cash) {
  if (inventory <= 0) {
    console.log("Sorry, we're out of chocolate bars!");
    return cash;
  } else if (cash >= 3) {
    inventory--;
    console.log("One chocolate bar, please! " + inventory + " left.");
    return cash - 3;
  } else {
    console.log("I don't have 3 dollars to spend. :(");
    return cash;
  }
}
```

</details>

---

[Previous](044.md) | [Next](046.md)

