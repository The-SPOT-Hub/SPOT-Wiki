# JS101
## Problem 94: String Capitalization Function

We tried to write a function that capitalizes the strings in a sentence and adds an exclamation point. Will our function work correctly? Why or why not?

```js
function exclaim(array) {
  array.forEach(sentence => {
    sentence[0].toUpperCase();
    sentence += '!';
  });

  console.log(array); // what will this output?
}

let actions = ['twist it', 'spin it', 'bop it'];
exclaim(actions);
```

### Bonus Questions
1. Arrays are mutable, but this code still doesn't work. How could we capitalize on the mutability of arrays to make this code work?
2. How could we make a similar function with 'pass-by-value' behavior?
3. Does it matter if we choose 'pass-by-value' or 'pass-by-reference' behavior for this problem? How can we decide?

<details>
<summary>Solution:</summary>

No, this function won't work correctly. It will output: `['twist it', 'spin it', 'bop it']` (unchanged).

**Problems:**

1. `sentence[0].toUpperCase()` creates a new string but doesn't assign it anywhere
2. `sentence += '!'` reassigns the local variable `sentence` (the parameter), but doesn't modify the array

**Explanation:**

Strings are immutable, so `toUpperCase()` returns a new string. The `+=` operator also creates a new string and reassigns the local `sentence` variable, but this doesn't affect the array elements. The array still contains the original strings.

**Bonus Questions:**

1. We could refactor to use array mutation:

```js
function exclaim(array) {
  array.forEach((sentence, idx) => {
    array[idx] = sentence[0].toUpperCase() + sentence.slice(1) + '!';
  });
  
  console.log(array);
}

let actions = ['twist it', 'spin it', 'bop it'];
exclaim(actions);
// ['Twist it!', 'Spin it!', 'Bop it!']
```

By using index assignment (`array[idx] = ...`), we mutate the array.

2. Pass-by-value behavior (returning new array):

```js
function exclaim(array) {
  return array.map(sentence => {
    return sentence[0].toUpperCase() + sentence.slice(1) + '!';
  });
}

let actions = ['twist it', 'spin it', 'bop it'];
let exclaimed = exclaim(actions);
console.log(exclaimed);  // ['Twist it!', 'Spin it!', 'Bop it!']
console.log(actions);     // ['twist it', 'spin it', 'bop it'] (unchanged)
```

3. Generally, pass-by-value behavior (non-mutating) is preferred because:
   - It's more predictable (original data preserved)
   - It's easier to test and debug
   - It avoids unintended side effects
   
   However, pass-by-reference (mutating) might be preferred if:
   - You want to save memory with very large arrays
   - The function's purpose is specifically to modify the existing data
   - You need to maintain the same array reference for other parts of your code
   
   For this problem, the non-mutating version is likely better unless you have a specific need to modify the original array.

</details>

---

[Previous](093.md) | [Next](095.md)

