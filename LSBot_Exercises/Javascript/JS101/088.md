# JS101
## Problem 88: Nested Block Scope Access

What will be output when we run this code? What is being demonstrated by this snippet?

```js
function kaleidoscope() {
  let outer = 'Blue';
  while (true) {
    let middle = 'Red';
    while (true) {
      let inner = 'Green';
      break;
    }
    console.log(outer);
    console.log(middle);
    console.log(inner);
    break;
  }
}

kaleidoscope();
```

### Bonus Questions
1. How many scopes exist in this code, and where is each variable accessible?
2. Where could we move our `console.log` statements to be able to see all colors printed?
3. How could we change this code so that we see our colors printed *without* moving the `console.log`s or eliminating functions?

<details>
<summary>Solution:</summary>

**Output:**
```
Blue
Red
ReferenceError: inner is not defined
```

**Explanation:**

This demonstrates nested block scopes and variable accessibility:
- `outer` is declared in the function scope, accessible everywhere in the function
- `middle` is declared in the first `while` loop block, accessible there and in nested blocks
- `inner` is declared in the nested `while` loop block, only accessible within that inner loop

When we try to log `inner` from the outer `while` loop (line 10), it's out of scope because `inner` only exists within the inner `while` loop block.

**Bonus Questions:**

1. **Four scopes exist:**

- **Global scope:** Contains `kaleidoscope` function
- **Function scope:** Contains `outer`, accessible throughout the function
- **Outer while block:** Contains `middle`, accessible in this block and nested blocks
- **Inner while block:** Contains `inner`, only accessible here

2. Move the `console.log` statements into the innermost block:

```js
function kaleidoscope() {
  let outer = 'Blue';
  while (true) {
    let middle = 'Red';
    while (true) {
      let inner = 'Green';
      console.log(outer);   // Moved here
      console.log(middle);  // Moved here
      console.log(inner);   // Moved here
      break;
    }
    break;
  }
}

kaleidoscope();
// Output:
// Blue
// Red
// Green
```

The innermost scope can access all outer variables.

3. Declare all variables in the function scope:

```js
function kaleidoscope() {
  let outer = 'Blue';
  let middle;  // Declare here
  let inner;   // Declare here
  
  while (true) {
    middle = 'Red';  // Assign (no let)
    while (true) {
      inner = 'Green';  // Assign (no let)
      break;
    }
    console.log(outer);
    console.log(middle);
    console.log(inner);
    break;
  }
}

kaleidoscope();
// Output:
// Blue
// Red
// Green
```

The key is ensuring variables are declared in a scope that's accessible from where the `console.log` statements are.

</details>

---

[Previous](087.md)

