# TS240
## Problem 7: Utility Types

You have a `UserProfile` type. Write a function `updateProfile` that accepts a user's current profile (which should not be modified) and an object containing a subset of properties to update. The function should return a new object representing the updated profile. Use utility types to enforce these constraints.

```typescript
// Starting type
type UserProfile = {
  id: number;
  username: string;
  email: string;
  isAdmin: boolean;
};
```

<details>
<summary>Solution:</summary>

```typescript
type UserProfile = {
  id: number;
  username: string;
  email: string;
  isAdmin: boolean;
};

// `Readonly<UserProfile>` prevents modification of the original profile.
// `Partial<UserProfile>` allows the updates object to contain any subset of UserProfile properties.
function updateProfile(
  profile: Readonly<UserProfile>,
  updates: Partial<UserProfile>
): UserProfile {
  // Use the spread operator to create a new object
  return { ...profile, ...updates };
}

// Example usage:
const currentUser: UserProfile = {
  id: 1,
  username: "testuser",
  email: "test@example.com",
  isAdmin: false,
};

const updatedUser = updateProfile(currentUser, {
  email: "new.email@example.com",
  isAdmin: true,
});

console.log(currentUser); // Original object is unchanged
// { id: 1, username: 'testuser', email: 'test@example.com', isAdmin: false }

console.log(updatedUser); // New object with updates
// { id: 1, username: 'testuser', email: 'new.email@example.com', isAdmin: true }
```

</details>

---

[Previous](06.md) | [Next](08.md)