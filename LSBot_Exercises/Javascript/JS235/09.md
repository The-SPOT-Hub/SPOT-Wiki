# JS235
## Problem 9: Async/Await Fetch Combined Data

Using `async/await`, write a function `fetchPostAndUser` that fetches a post from `https://jsonplaceholder.typicode.com/posts/1` and its corresponding user from `https://jsonplaceholder.typicode.com/users/1`. The function should return a new object that combines the post data with the user's name, structured like this: `{ post: { ...postData }, userName: "Leanne Graham" }`.

<details>
<summary>Solution:</summary>

```javascript
async function fetchPostAndUser() {
  try {
    // Fire off both requests in parallel
    const postPromise = fetch('https://jsonplaceholder.typicode.com/posts/1');
    const userPromise = fetch('https://jsonplaceholder.typicode.com/users/1');

    // Wait for both promises to resolve
    const [postResponse, userResponse] = await Promise.all([postPromise, userPromise]);

    // Check if both requests were successful
    if (!postResponse.ok || !userResponse.ok) {
      throw new Error('Failed to fetch data');
    }

    // Parse JSON from both responses
    const postData = await postResponse.json();
    const userData = await userResponse.json();

    // Combine and return the data
    return {
      post: postData,
      userName: userData.name
    };
  } catch (error) {
    console.error('Error in fetchPostAndUser:', error);
    return null; // Or handle the error as appropriate
  }
}

// Example usage:
fetchPostAndUser().then(data => console.log(data));
```

</details>

---

[Previous](08.md) | [Next](10.md)