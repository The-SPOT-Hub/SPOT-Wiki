<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Javascript/JS225/08.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# JS225
## Problem 8: Arrow Functions & this

The following factory function `createUser` is intended to create user objects. The `getDisplayName` method, however, is not working as expected and returns "undefined undefined". Explain why this happens and provide a corrected version of the `createUser` function.

```javascript
function createUser(firstName, lastName) {
  let user = {
    firstName: firstName,
    lastName: lastName,
    getDisplayName: () => {
      return `${this.firstName} ${this.lastName}`;
    }
  };
  return user;
}

let user1 = createUser('John', 'Doe');
console.log(user1.getDisplayName());
```

<details>
<summary>Solution:</summary>

**Problem:** Arrow functions do not have their own `this` binding. They lexically inherit `this` from the surrounding scope where they are defined. In this case, `getDisplayName` is defined inside the `createUser` function. The `this` within `createUser` refers to the global object (or undefined in strict mode), not the user object.

**Fix:** To fix this, you must use a regular function expression or method syntax. These types of functions get their `this` context from how they are called. When `user1.getDisplayName()` is invoked, `this` will correctly refer to `user1`.

**Corrected Code:**

```javascript
function createUser(firstName, lastName) {
  let user = {
    firstName: firstName,
    lastName: lastName,
    // Use method syntax
    getDisplayName() {
      return `${this.firstName} ${this.lastName}`;
    }
    /* OR use a function expression:
    getDisplayName: function() {
      return `${this.firstName} ${this.lastName}`;
    }
    */
  };
  return user;
}

let user1 = createUser('John', 'Doe');
console.log(user1.getDisplayName()); // => "John Doe"
```

</details>

---

[Previous](07.md) | [Next](09.md)