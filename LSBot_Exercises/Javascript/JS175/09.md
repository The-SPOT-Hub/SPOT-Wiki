# JS175
## Problem 9: req.body is Undefined

A developer is handling a form submission with a `POST` request. In their route handler, they attempt to access `req.body.username`, but the application crashes with an error: `TypeError: Cannot read properties of undefined (reading 'username')`. What is the probable cause of `req.body` being `undefined`, and what middleware is needed to fix it?

<details>
<summary>Solution:</summary>

The probable cause is that the application is not using the necessary middleware to parse the incoming request body. For a standard HTML form submission (`application/x-www-form-urlencoded`), the `express.urlencoded` middleware is required. It parses the form data and attaches it to the `req` object as `req.body`. The fix is to add this line before the routes are defined:

```javascript
app.use(express.urlencoded({ extended: false }));
```

</details>

---

[Previous](08.md) | [Next](10.md)