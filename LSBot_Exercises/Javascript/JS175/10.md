# JS175
## Problem 10: Flash Messages Disappearing

A developer is using `express-session` and `express-flash`. They set a flash message before a redirect, but it never appears on the target page. Their middleware is configured as follows:

```javascript
app.use(flash());
app.use(session({
  secret: 'my-secret',
  resave: false,
  saveUninitialized: false
}));
```

What is wrong with this configuration, and how should it be fixed?

<details>
<summary>Solution:</summary>

The issue is the order of the middleware. `express-flash` uses the session to store messages, so the `session` middleware must be configured *before* the `flash` middleware.

**The fix** is to reverse the order:

```javascript
// Correct Order
app.use(session({
  secret: 'my-secret',
  resave: false,
  saveUninitialized: false
}));
app.use(flash());
```

</details>

---

[Previous](09.md)