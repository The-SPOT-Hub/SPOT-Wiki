<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Python/PY101/094.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# PY101
## Problem 94: Counter Increment Error

We expect our counter to be incremented and printed three times by this code. That isn't what happens, why?

```python
counter = 0

def increment_counter():
    counter += 1
    print(f"Counter is now: {counter}")

increment_counter()
increment_counter()
increment_counter()
```

**Bonus Questions:**
1. How come we could print `counter` but we can't use `+=`? How can we fix this?
2. After fixing this code, is it possible to have multiple different counters? What if I want to have two counters keeping track of different counts?
3. Could you come up with a solution that would allow us to have multiple counters?

<details>
<summary>Solution:</summary>

We get an error: `UnboundLocalError: cannot access local variable 'counter' where it is not associated with a value`

**Explanation:**

Python sees `counter += 1` and recognizes that `+=` is an attempt to modify a variable. Because of this assignment, Python assumes `counter` is a local variable. However, the local variable hasn't been initialized before we try to read from it (the `+=` operation needs to read the current value first), so we get an `UnboundLocalError`.

**Bonus Answers:**

**Bonus 1**: When we tried to `print(counter)` (in other examples), we were only reading the variable, not modifying it. Reading doesn't require `global`. But `+=` needs to both read and write, which triggers Python to treat it as local.

Fix using `global`:
```python
counter = 0

def increment_counter():
    global counter  # Declare we're modifying the global counter
    counter += 1
    print(f"Counter is now: {counter}")

increment_counter()  # Counter is now: 1
increment_counter()  # Counter is now: 2
increment_counter()  # Counter is now: 3
```

**Bonus 2**: No, we cannot have multiple counters with this approach. Any use of `global counter` will modify the same global `counter` variable.

**Bonus 3**: We could use different approaches:

Option 1: Pass counters as arguments and return them:
```python
def increment_counter(counter):
    counter += 1
    print(f"Counter is now: {counter}")
    return counter

counter1 = 0
counter2 = 0

counter1 = increment_counter(counter1)  # Counter is now: 1
counter2 = increment_counter(counter2)  # Counter is now: 1
counter1 = increment_counter(counter1)  # Counter is now: 2
```

Option 2: Use a dictionary to manage multiple counters:
```python
counters = {}

def increment_counter(name):
    global counters
    if name not in counters:
        counters[name] = 0
    counters[name] += 1
    print(f"{name} is now: {counters[name]}")

increment_counter("first")   # first is now: 1
increment_counter("second")  # second is now: 1
increment_counter("first")   # first is now: 2
```

Option 3: Use a class (more advanced):
```python
class Counter:
    def __init__(self):
        self.value = 0
    
    def increment(self):
        self.value += 1
        print(f"Counter is now: {self.value}")

counter1 = Counter()
counter2 = Counter()
counter1.increment()  # Counter is now: 1
counter2.increment()  # Counter is now: 1
counter1.increment()  # Counter is now: 2
```

</details>

---

[Previous](093.md) | [Next](095.md)

