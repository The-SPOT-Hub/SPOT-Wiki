<p align="right">
  <a id="spot-launch-btn" class="spot-editor-link" href="https://launchschool.com/the-spot?url=https://github.com/The-SPOT-Hub/SPOT-Wiki/blob/main/LSBot_Exercises/Python/PY101/126.md" target="_blank">
  <img src="https://img.shields.io/badge/Work%20in%20LS%20Code%20Editor-555?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZyBmaWxsPSIjZjM1YjVhIj48cGF0aCBkPSJNOTgsMS45Yy0yLjUtMi41LTYuNi0yLjUtOS4xLDBMMjcuMiw2My43Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwTDk4LDExLjFDMTAwLjYsOC41LDEwMC41LDQuNSw5OCwxLjl6Ii8%2BPHBhdGggZD0iTTg4LjksNzQuOWwtMTQsMTRjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMTQtMTRjMi41LTIuNSwyLjUtNi42LDAtOS4xQzk1LjUsNzIuNCw5MS40LDcyLjQsODguOSw3NC45eiIvPjxwYXRoIGQ9Ik05OC4xLDM4LjRjLTIuNS0yLjUtNi42LTIuNS05LjEsMEw2Mi43LDY0LjZjLTIuNSwyLjUtMi41LDYuNiwwLDkuMWMyLjUsMi41LDYuNiwyLjUsOS4xLDBsMjYuMy0yNi4zQzEwMC42LDQ1LDEwMC42LDQwLjksOTguMSwzOC40eiIvPjxwYXRoIGQ9Ik0yNSwyYy0yLjUtMi41LTYuNi0yLjUtOS4xLDBsLTE0LDE0Yy0yLjUsMi41LTIuNSw2LjYsMCw5LjFjMi41LDIuNSw2LjYsMi41LDkuMSwwbDE0LTE0QzI3LjYsOC42LDI3LjYsNC41LDI1LDJ6Ii8%2BPHBhdGggZD0iTTM1LjQsMzcuM0w2MS42LDExYzIuNS0yLjUsMi41LTYuNiwwLTkuMWMtMi41LTIuNS02LjYtMi41LTkuMSwwTDI2LjIsMjguMmMtMi41LDIuNS0yLjUsNi42LDAsOS4xQzI4LjgsMzkuOCwzMi44LDM5LjgsMzUuNCwzNy4zeiIvPjwvZz48L3N2Zz4%3D" alt="Work in LS Code Editor">
</a>
</p>

# PY101
## Problem 126: Variable Scope with Nested Functions

What happens when we run this code? Why? What single line could we add to get this code to output the expected text?

```python
def set_greeting():
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # Expected: 'hello'
```

<details>
<summary>Solution:</summary>

**What happens:**
```
NameError: name 'greeting' is not defined
```

**Why:**

This demonstrates **variable scope**. The variable `greeting` is defined as a local variable inside `set_greeting()`. Local variables only exist within the function where they're defined. When `use_greeting()` tries to access `greeting`, it doesn't exist in that scope or in the global scope, causing a `NameError`.

**Visualization:**
```
Global Scope:
  - set_greeting (function)
  - use_greeting (function)

set_greeting's Scope:
  - greeting = 'hello'  (local, destroyed after function returns)

use_greeting's Scope:
  - (tries to find 'greeting' but can't find it anywhere)
```

**What single line to add:**

Add `global greeting` inside `set_greeting()`:

```python
def set_greeting():
    global greeting  # This line makes greeting global
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # hello
```

**Other solutions:**

**Option 1:** Return the value
```python
def set_greeting():
    greeting = 'hello'
    return greeting

def use_greeting(greeting):
    print(greeting)

greeting = set_greeting()
use_greeting(greeting)  # hello
```

**Option 2:** Define greeting in global scope
```python
greeting = None  # Define in global scope

def set_greeting():
    global greeting
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # hello
```

**Concept:** Variable Scope - variables defined inside a function are local to that function and cannot be accessed from outside the function. To share data between functions, use global variables (with `global` keyword), return values, or pass parameters.

**Note:** While using `global` works, it's generally better to use return values and parameters for clearer, more maintainable code.

</details>

---

[Previous](125.md)

