# PY101
## Problem 126: Variable Scope with Nested Functions

What happens when we run this code? Why? What single line could we add to get this code to output the expected text?

```python
def set_greeting():
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # Expected: 'hello'
```

<details>
<summary>Solution:</summary>

**What happens:**
```
NameError: name 'greeting' is not defined
```

**Why:**

This demonstrates **variable scope**. The variable `greeting` is defined as a local variable inside `set_greeting()`. Local variables only exist within the function where they're defined. When `use_greeting()` tries to access `greeting`, it doesn't exist in that scope or in the global scope, causing a `NameError`.

**Visualization:**
```
Global Scope:
  - set_greeting (function)
  - use_greeting (function)

set_greeting's Scope:
  - greeting = 'hello'  (local, destroyed after function returns)

use_greeting's Scope:
  - (tries to find 'greeting' but can't find it anywhere)
```

**What single line to add:**

Add `global greeting` inside `set_greeting()`:

```python
def set_greeting():
    global greeting  # This line makes greeting global
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # hello
```

**Other solutions:**

**Option 1:** Return the value
```python
def set_greeting():
    greeting = 'hello'
    return greeting

def use_greeting(greeting):
    print(greeting)

greeting = set_greeting()
use_greeting(greeting)  # hello
```

**Option 2:** Define greeting in global scope
```python
greeting = None  # Define in global scope

def set_greeting():
    global greeting
    greeting = 'hello'

def use_greeting():
    print(greeting)

set_greeting()
use_greeting()  # hello
```

**Concept:** Variable Scope - variables defined inside a function are local to that function and cannot be accessed from outside the function. To share data between functions, use global variables (with `global` keyword), return values, or pass parameters.

**Note:** While using `global` works, it's generally better to use return values and parameters for clearer, more maintainable code.

</details>

---

[Previous](125.md)

